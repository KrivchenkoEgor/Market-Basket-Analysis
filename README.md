# Market Basket Analysis for Online Retail

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç **–∞–Ω–∞–ª–∏–∑ –∫–æ—Ä–∑–∏–Ω—ã –ø–æ–∫—É–ø–æ–∫ (Market Basket Analysis)** –Ω–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–æ–∑–Ω–∏—á–Ω–æ–π –æ–Ω–ª–∞–π–Ω-—Å–µ—Ç–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞–ª–≥–æ—Ä–∏—Ç–º–∞ **Apriori**. –¶–µ–ª—å ‚Äî –≤—ã—è–≤–∏—Ç—å —Ç–æ–≤–∞—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –∫–ª–∏–µ–Ω—Ç—ã —á–∞—Å—Ç–æ –ø–æ–∫—É–ø–∞—é—Ç –≤–º–µ—Å—Ç–µ, —á—Ç–æ–±—ã —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–ª–µ–∫—Ç—ã (–±–∞–Ω–¥–ª—ã), —É–ª—É—á—à–∞—Ç—å –∫—Ä–æ—Å—Å-–ø—Ä–æ–¥–∞–∂–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç.

## üìä –ë–∏–∑–Ω–µ—Å-—Ü–µ–Ω–Ω–æ—Å—Ç—å
–ê–Ω–∞–ª–∏–∑ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- **–£–≤–µ–ª–∏—á–∏—Ç—å —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫** –∑–∞ —Å—á—ë—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∏ –≥–æ—Ç–æ–≤—ã—Ö –Ω–∞–±–æ—Ä–æ–≤.
- **–°–Ω–∏–∑–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É —á–∞—Å—Ç–∏—á–Ω—ã—Ö –≤–æ–∑–≤—Ä–∞—Ç–æ–≤** (¬´—è –∑–∞–±—ã–ª –¥–æ–∫—É–ø–∏—Ç—åÈÖçÂ•ó¬ª).
- **–£–ª—É—á—à–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –æ–ø—ã—Ç** —á–µ—Ä–µ–∑ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∫–ª–∞–¥—Å–∫–∏–µ –∑–∞–ø–∞—Å—ã** –ø–æ —Å–≤—è–∑–∞–Ω–Ω—ã–º SKU.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
scikit-learn/
‚îú‚îÄ‚îÄ OnlineRetail.csv                 # –ò—Å—Ö–æ–¥–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç (–æ—Ä–∏–≥–∏–Ω–∞–ª –æ—Ç UCI ML Repository)
‚îú‚îÄ‚îÄ OnlineRetail_sample.csv          # –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö (20 —Å—Ç—Ä–æ–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
‚îú‚îÄ‚îÄ association_rules.py             # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –∞–Ω–∞–ª–∏–∑–∞ –∫–æ—Ä–∑–∏–Ω—ã –ø–æ–∫—É–ø–æ–∫
‚îú‚îÄ‚îÄ association_rules_full.csv       # –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ç–æ–ø-20 –ø—Ä–∞–≤–∏–ª –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ README.md                        # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8+
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑ `requirements.txt`:
  - `pandas`
  - `mlxtend` (–¥–ª—è Apriori –∏ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ—Ä–∑–∏–Ω—ã)
  - `scikit-learn` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```bash
pip install -r requirements.txt
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –µ—Å–ª–∏ `mlxtend` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –≤–∞—à–µ–º `requirements.txt`, –¥–æ–±–∞–≤—å—Ç–µ –µ—ë:
> ```bash
> pip install mlxtend
> ```

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `OnlineRetail.csv` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
   ```bash
   python association_rules.py
   ```
3. –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ñ–∞–π–ª `association_rules_full.csv`.

## üìà –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
–§–∞–π–ª `association_rules_full.csv` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏:

| –ö–æ–ª–æ–Ω–∫–∞        | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------------|---------|
| `antecedents`  | –¢–æ–≤–∞—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –∫–ª–∏–µ–Ω—Ç —É–∂–µ –ø–æ–ª–æ–∂–∏–ª –≤ –∫–æ—Ä–∑–∏–Ω—É (¬´–µ—Å–ª–∏ –∫—É–ø–∏–ª X¬ª) |
| `consequents`  | –¢–æ–≤–∞—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –∫—É–ø–∏—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ (¬´—Ç–æ –∫—É–ø–∏—Ç Y¬ª) |
| `support`      | –î–æ–ª—è –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö **–æ–±–∞** —Ç–æ–≤–∞—Ä–∞ (X –∏ Y). –ü—Ä–∏–º–µ—Ä: `0.01` = 1% –∑–∞–∫–∞–∑–æ–≤. |
| `confidence`   | –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å –ø—Ä–∞–≤–∏–ª–∞: –≤ —Å–∫–æ–ª—å–∫–∏—Ö % —Å–ª—É—á–∞–µ–≤ –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ X –∫–ª–∏–µ–Ω—Ç –∫—É–ø–∏–ª Y. |
| `lift`         | **–°–∏–ª–∞ –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏**: –Ω–∞—Å–∫–æ–ª—å–∫–æ —á–∞—â–µ Y –ø–æ–∫—É–ø–∞—é—Ç –≤–º–µ—Å—Ç–µ —Å X, —á–µ–º –≤ —Å—Ä–µ–¥–Ω–µ–º –ø–æ –≤—Å–µ–º—É –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç—É.<br>‚Äî `lift > 1`: –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è —Å–≤—è–∑—å<br>‚Äî `lift >> 1` (–Ω–∞–ø—Ä–∏–º–µ—Ä, >10): –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–∞—è —Å–≤—è–∑—å |

> üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞**: —Ñ–æ–∫—É—Å–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ –ø—Ä–∞–≤–∏–ª–∞—Ö —Å **–≤—ã—Å–æ–∫–∏–º lift (>10)** –∏ **confidence (>0.5)** ‚Äî –æ–Ω–∏ –¥–∞—é—Ç –Ω–∞–∏–±–æ–ª—å—à–∏–π –±–∏–∑–Ω–µ—Å-—ç—Ñ—Ñ–µ–∫—Ç.

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
–î–∞–Ω–Ω—ã–µ –≤–∑—è—Ç—ã –∏–∑ [UCI Machine Learning Repository ‚Äî Online Retail Dataset](https://archive.ics.uci.edu/ml/datasets/Online+Retail).  
–§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç ~540 —Ç—ã—Å. —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∑–∞ –ø–µ—Ä–∏–æ–¥ —Å 01.12.2010 –ø–æ 09.12.2011 –æ—Ç –±—Ä–∏—Ç–∞–Ω—Å–∫–æ–≥–æ –æ–Ω–ª–∞–π–Ω-—Ä–∏—Ç–µ–π–ª–µ—Ä–∞ –ø–æ–¥–∞—Ä–∫–æ–≤.

## üìù –ê–≤—Ç–æ—Ä
–ê–Ω–∞–ª–∏—Ç–∏–∫ —Ä–æ–∑–Ω–∏—á–Ω–æ–π —Å–µ—Ç–∏ / Data Scientist  
(—É–∫–∞–∂–∏—Ç–µ –≤–∞—à–µ –∏–º—è –∏–ª–∏ –∫–æ–º–∞–Ω–¥—É –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–π—Ç–µ.